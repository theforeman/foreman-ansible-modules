interactions:
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
    method: GET
    uri: https://foreman.example.com/api/status
  response:
    body: {string: !!python/unicode '{"result":"ok","status":200,"version":"1.22.0","api_version":2}'}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      content-length: ['63']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:10:06 GMT']
      etag: [W/"674e9dbc2140c688b559566b581c5c09"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      set-cookie: [_session_id=a3fd99097c364a56b4d71f573c4e59ba; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [6604267a-e41e-46a4-9d16-f6a719735cbb]
      x-runtime: ['0.043854']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=a3fd99097c364a56b4d71f573c4e59ba]
    method: GET
    uri: https://foreman.example.com/katello/api/organizations?per_page=4294967296&search=name%3D%22Test+Organization%22&thin=True
  response:
    body: {string: !!python/unicode "{\n  \"total\": 3,\n  \"subtotal\": 1,\n  \"\
        page\": 1,\n  \"per_page\": 4294967296,\n  \"search\": \"name=\\\"Test Organization\\\
        \"\",\n  \"sort\": {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\"\
        : [{\"label\":\"Test_Organization\",\"created_at\":\"2019-08-12 09:44:14 UTC\"\
        ,\"updated_at\":\"2019-08-12 09:44:14 UTC\",\"id\":11,\"name\":\"Test Organization\"\
        ,\"title\":\"Test Organization\",\"description\":\"A test organization\"}]\n\
        }\n"}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:10:06 GMT']
      etag: [W/"a57596768aa23a0ce707b9f4797301d4"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [1da0fc11-88df-4ce1-90cf-4c48026b68d8]
      x-runtime: ['0.024413']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=a3fd99097c364a56b4d71f573c4e59ba]
    method: GET
    uri: https://foreman.example.com/katello/api/organizations/11/products?per_page=4294967296&search=name%3D%22Test+Product%22&thin=True
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Test
        Product\"","sort":{"by":"name","order":"asc"},"results":[{"id":194,"cp_id":"483944083500","name":"Test
        Product","label":"Test_Product","description":"A happy little test product","provider_id":17,"sync_plan_id":null,"sync_summary":{"success":1},"gpg_key_id":null,"ssl_ca_cert_id":null,"ssl_client_cert_id":null,"ssl_client_key_id":null,"sync_state":"Syncing
        Complete.","last_sync":"2019-08-16 07:09:52 UTC","last_sync_words":"less than
        a minute","organization_id":11,"organization":{"name":"Test Organization","label":"Test_Organization","id":11},"sync_plan":null,"repository_count":1}]}

        '}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:10:06 GMT']
      etag: [W/"198d298057bca02acb87250fbb9af1a6"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [fccf931e-5c7f-4f17-9aef-225ee093f94c]
      x-runtime: ['0.075866']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=a3fd99097c364a56b4d71f573c4e59ba]
    method: GET
    uri: https://foreman.example.com/katello/api/products/194/repositories?per_page=4294967296&search=name%3D%22Test+Repository%22&thin=True
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Test
        Repository\"","sort":{"by":"name","order":"asc"},"results":[{"backend_identifier":"951e21ab-ab05-44c1-bfb6-3fe8fc50f010","relative_path":"Test_Organization/Library/custom/Test_Product/Test_Repository","container_repository_name":null,"full_path":"http://centos7-katello-3-12.yatsu.example.com/pulp/repos/Test_Organization/Library/custom/Test_Product/Test_Repository/","id":20,"name":"Test
        Repository","label":"Test_Repository","description":null,"last_sync":{"id":"b718bd59-9a0e-4cfc-a8c8-ff69ada5abe4","username":"admin","started_at":"2019-08-16
        07:09:52 UTC","ended_at":"2019-08-16 07:10:02 UTC","state":"stopped","result":"success","progress":1.0},"content_view":{"id":9,"name":"Default
        Organization View"},"content_type":"yum","url":"https://repos.fedorapeople.org/pulp/pulp/demo_repos/zoo/","arch":"noarch","content_id":"1565938529535","major":null,"minor":null,"product":{"id":194,"cp_id":"483944083500","name":"Test
        Product","orphaned":false,"redhat":false,"sync_plan":null},"content_label":"Test_Organization_Test_Product_Test_Repository","content_counts":{"ostree_branch":0,"docker_manifest":0,"docker_manifest_list":0,"docker_tag":0,"rpm":32,"srpm":0,"package":32,"package_group":2,"erratum":4,"puppet_module":0,"file":0,"deb":0,"module_stream":0},"last_sync_words":"less
        than a minute"}]}

        '}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:10:06 GMT']
      etag: [W/"0da26773081bb1d29dd11197f5386dc2"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [4317a50b-b50f-4bdd-8c81-265840baacf3]
      x-runtime: ['0.075924']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{}'
    headers:
      Accept: [application/json;version=2]
      Content-Length: ['2']
      Content-Type: [application/json]
      Cookie: [_session_id=a3fd99097c364a56b4d71f573c4e59ba]
    method: POST
    uri: https://foreman.example.com/katello/api/repositories/20/sync
  response:
    body: {string: !!python/unicode '  {"id":"50b4f937-ee2a-4ba1-8f0d-dd4ce5e4b40b","label":"Actions::Katello::Repository::Sync","pending":true,"action":"Synchronize
        repository ''Test Repository''; product ''Test Product''; organization ''Test
        Organization''","username":"admin","started_at":"2019-08-16 07:10:06 UTC","ended_at":null,"state":"planned","result":"pending","progress":0.0,"input":{"repository":{"id":20,"name":"Test
        Repository","label":"Test_Repository"},"product":{"id":194,"name":"Test Product","label":"Test_Product","cp_id":"483944083500"},"provider":{"id":17,"name":"Anonymous"},"organization":{"id":11,"name":"Test
        Organization","label":"Test_Organization"},"services_checked":["pulp","pulp_auth"],"id":20,"sync_result":{"class":"Dynflow::ExecutionPlan::OutputReference","execution_plan_id":"c1bea759-fa36-4eb2-a22a-f9c8167a5eca","step_id":3,"action_id":2,"subkeys":[]},"skip_metadata_check":false,"validate_contents":false,"contents_changed":{"class":"Dynflow::ExecutionPlan::OutputReference","execution_plan_id":"c1bea759-fa36-4eb2-a22a-f9c8167a5eca","step_id":3,"action_id":2,"subkeys":["contents_changed"]},"current_request_id":null,"current_timezone":"UTC","current_user_id":4,"current_organization_id":null,"current_location_id":null},"output":{},"humanized":{"action":"Synchronize","input":[["repository",{"text":"repository
        ''Test Repository''","link":null}],["product",{"text":"product ''Test Product''","link":"/products/194/"}],["organization",{"text":"organization
        ''Test Organization''","link":"/organizations/11/edit"}]],"output":"","errors":[]},"cli_example":null}

        '}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: [no-cache]
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:10:06 GMT']
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      set-cookie: [request_method=POST; path=/; secure; HttpOnly; SameSite=Lax]
      status: [202 Accepted]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [401a56ef-809a-4bae-9388-dd9e5206d653]
      x-runtime: ['0.545369']
      x-xss-protection: [1; mode=block]
    status: {code: 202, message: Accepted}
version: 1
