interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://centos7-foreman-1-22/api/status
  response:
    body:
      string: '{"result":"ok","status":200,"version":"1.22.1","api_version":2}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Length:
      - '63'
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Fri, 15 Nov 2019 11:17:21 GMT
      ETag:
      - W/"7462024e111aafa1fe0b7de16a6757f0"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.22.1
      Keep-Alive:
      - timeout=5, max=100
      Server:
      - Apache
      Set-Cookie:
      - _session_id=4ea6decf38024616a3f1c5d4be8ad031; path=/; secure; HttpOnly; SameSite=Lax
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - 5974a063-9592-4200-9ef3-4287594ffb6e
      X-Runtime:
      - '0.028731'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Cookie:
      - _session_id=4ea6decf38024616a3f1c5d4be8ad031
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://centos7-foreman-1-22/api/roles?search=name%3D%22role_with_filters%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 11,\n  \"subtotal\": 0,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"role_with_filters\\\"\",\n  \"sort\":
        {\n    \"by\": \"name\",\n    \"order\": \"ASC\"\n  },\n  \"results\": []\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Fri, 15 Nov 2019 11:17:21 GMT
      ETag:
      - W/"257231fae15387d19cd4866f79c2db37-gzip"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.22.1
      Keep-Alive:
      - timeout=5, max=99
      Server:
      - Apache
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - b4259a20-e4e0-4384-af43-bfa3559195cb
      X-Runtime:
      - '0.013572'
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '187'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Cookie:
      - _session_id=4ea6decf38024616a3f1c5d4be8ad031
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://centos7-foreman-1-22/api/locations?search=title%3D%22Test+Location%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 2,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"title=\\\"Test Location\\\"\",\n  \"sort\": {\n
        \   \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"ancestry\":null,\"parent_id\":null,\"parent_name\":null,\"created_at\":\"2019-11-13
        15:34:37 UTC\",\"updated_at\":\"2019-11-13 15:34:37 UTC\",\"id\":24,\"name\":\"Test
        Location\",\"title\":\"Test Location\",\"description\":null}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Fri, 15 Nov 2019 11:17:21 GMT
      ETag:
      - W/"7b2b50d642942afccab117cf1a96bbcf-gzip"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.22.1
      Keep-Alive:
      - timeout=5, max=98
      Server:
      - Apache
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - 02268286-708c-4d96-b33a-077346fbd764
      X-Runtime:
      - '0.013119'
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '385'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Cookie:
      - _session_id=4ea6decf38024616a3f1c5d4be8ad031
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://centos7-foreman-1-22/api/organizations?search=name%3D%22Test+Organization%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 2,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"Test Organization\\\"\",\n  \"sort\":
        {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"ancestry\":null,\"parent_id\":null,\"parent_name\":null,\"created_at\":\"2019-11-13
        15:34:38 UTC\",\"updated_at\":\"2019-11-13 15:34:38 UTC\",\"id\":25,\"name\":\"Test
        Organization\",\"title\":\"Test Organization\",\"description\":\"A test organization\"}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Fri, 15 Nov 2019 11:17:21 GMT
      ETag:
      - W/"06a6671adb8e1b9b164f9e4f13da9996-gzip"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.22.1
      Keep-Alive:
      - timeout=5, max=97
      Server:
      - Apache
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - 7cebe3ad-da07-43ae-a66a-67f71934afb0
      X-Runtime:
      - '0.013313'
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '413'
    status:
      code: 200
      message: OK
- request:
    body: '{"role": {"name": "role_with_filters", "description": "test role", "location_ids":
      [24], "organization_ids": [25]}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '115'
      Content-Type:
      - application/json
      Cookie:
      - _session_id=4ea6decf38024616a3f1c5d4be8ad031
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: POST
    uri: https://centos7-foreman-1-22/api/roles
  response:
    body:
      string: '{"builtin":0,"cloned_from_id":null,"name":"role_with_filters","id":45,"description":"test
        role","origin":null,"filters":[],"locations":[{"id":24,"name":"Test Location","title":"Test
        Location","description":null}],"organizations":[{"id":25,"name":"Test Organization","title":"Test
        Organization","description":"A test organization"}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Fri, 15 Nov 2019 11:17:21 GMT
      ETag:
      - W/"32fd0cc0590475a52a1506eb099db146"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.22.1
      Keep-Alive:
      - timeout=5, max=96
      Server:
      - Apache
      Set-Cookie:
      - request_method=POST; path=/; secure; HttpOnly; SameSite=Lax
      Status:
      - 201 Created
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - d56e702c-adee-41d8-9147-9cd1054646b9
      X-Runtime:
      - '0.041989'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Cookie:
      - _session_id=4ea6decf38024616a3f1c5d4be8ad031; request_method=POST
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://centos7-foreman-1-22/api/permissions?search=name%3D%22view_hosts%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 186,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"view_hosts\\\"\",\n  \"sort\": {\n    \"by\":
        null,\n    \"order\": null\n  },\n  \"results\": [{\"name\":\"view_hosts\",\"id\":60,\"resource_type\":\"Host\"}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Fri, 15 Nov 2019 11:17:21 GMT
      ETag:
      - W/"ed1d8d00db78ad1b0a5768c96664c166-gzip"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.22.1
      Keep-Alive:
      - timeout=5, max=95
      Server:
      - Apache
      Set-Cookie:
      - request_method=; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 -0000;
        secure; HttpOnly; SameSite=Lax
      Status:
      - 200 OK
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - 100e89eb-3e9b-4c7a-9ff1-21973ddb0c25
      X-Runtime:
      - '0.011789'
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '230'
    status:
      code: 200
      message: OK
- request:
    body: '{"filter": {"role_id": 45, "search": "owner_type = Usergroup and owner_id
      = 4", "permission_ids": [60]}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '104'
      Content-Type:
      - application/json
      Cookie:
      - _session_id=4ea6decf38024616a3f1c5d4be8ad031
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: POST
    uri: https://centos7-foreman-1-22/api/filters
  response:
    body:
      string: '{"search":"owner_type = Usergroup and owner_id = 4","resource_type":"Host","unlimited?":false,"created_at":"2019-11-15
        11:17:21 UTC","updated_at":"2019-11-15 11:17:21 UTC","override?":false,"id":212,"role":{"name":"role_with_filters","id":45,"description":"test
        role","origin":null},"permissions":[{"name":"view_hosts","id":60,"resource_type":"Host"}],"locations":[{"id":24,"name":"Test
        Location","title":"Test Location","description":null}],"organizations":[{"id":25,"name":"Test
        Organization","title":"Test Organization","description":"A test organization"}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval'' ''unsafe-inline''
        ''self''; style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Fri, 15 Nov 2019 11:17:21 GMT
      ETag:
      - W/"4d373368a067be2b0c7a7653505df7b3"
      Foreman_api_version:
      - '2'
      Foreman_version:
      - 1.22.1
      Keep-Alive:
      - timeout=5, max=94
      Server:
      - Apache
      Set-Cookie:
      - request_method=POST; path=/; secure; HttpOnly; SameSite=Lax
      Status:
      - 201 Created
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-Powered-By:
      - Phusion Passenger 4.0.53
      X-Request-Id:
      - b6b0106d-c23d-4f89-a3d1-5a6737c898df
      X-Runtime:
      - '0.056551'
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 201
      message: Created
version: 1
