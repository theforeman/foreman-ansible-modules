interactions:
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
    method: GET
    uri: https://foreman.example.com/api/status
  response:
    body: {string: !!python/unicode '{"result":"ok","status":200,"version":"1.22.0","api_version":2}'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      content-length: ['63']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:42:33 GMT']
      etag: [W/"674e9dbc2140c688b559566b581c5c09"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      set-cookie: [_session_id=c852a22ba23b2ec2807cfafcc864663f; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [1fa430c7-e7fe-49b5-be15-eaf550a38842]
      x-runtime: ['0.031403']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=c852a22ba23b2ec2807cfafcc864663f]
    method: GET
    uri: https://foreman.example.com/katello/api/organizations?per_page=4294967296&search=name%3D%22Test+Organization%22
  response:
    body: {string: !!python/unicode "{\n  \"total\": 3,\n  \"subtotal\": 1,\n  \"\
        page\": 1,\n  \"per_page\": 4294967296,\n  \"search\": \"name=\\\"Test Organization\\\
        \"\",\n  \"sort\": {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\"\
        : [{\"label\":\"Test_Organization\",\"created_at\":\"2019-08-16 07:28:47 UTC\"\
        ,\"updated_at\":\"2019-08-16 07:28:47 UTC\",\"id\":13,\"name\":\"Test Organization\"\
        ,\"title\":\"Test Organization\",\"description\":\"A test organization\"}]\n\
        }\n"}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:42:33 GMT']
      etag: [W/"b77d90ec5907fc86eafdf7eb5b417d41"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [9b48041d-68ef-422d-9375-26bdbcdb6eb7]
      x-runtime: ['0.017916']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=c852a22ba23b2ec2807cfafcc864663f]
    method: GET
    uri: https://foreman.example.com/katello/api/organizations/13/products?per_page=4294967296&search=name%3D%22Test+Product%22
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Test
        Product\"","sort":{"by":"name","order":"asc"},"results":[{"id":197,"cp_id":"539059912085","name":"Test
        Product","label":"Test_Product","description":"A happy little test product","provider_id":21,"sync_plan_id":null,"sync_summary":{"success":3},"gpg_key_id":null,"ssl_ca_cert_id":null,"ssl_client_cert_id":null,"ssl_client_key_id":null,"sync_state":"Syncing
        Complete.","last_sync":"2019-08-16 07:42:20 UTC","last_sync_words":"less than
        a minute","organization_id":13,"organization":{"name":"Test Organization","label":"Test_Organization","id":13},"sync_plan":null,"repository_count":1}]}

        '}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:42:33 GMT']
      etag: [W/"c0a6f596f5f9700486d236f48eb73335"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [8b4a0568-4ac9-4f69-8508-2a7404eae013]
      x-runtime: ['0.053976']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=c852a22ba23b2ec2807cfafcc864663f]
    method: GET
    uri: https://foreman.example.com/katello/api/products/197/repositories?per_page=4294967296&search=name%3D%22Test+Repository%22
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Test
        Repository\"","sort":{"by":"name","order":"asc"},"results":[{"backend_identifier":"ed74c273-900f-48bd-9bae-6a3c514e7166","relative_path":"Test_Organization/Library/custom/Test_Product/Test_Repository","container_repository_name":null,"full_path":"http://centos7-katello-3-12.yatsu.example.com/pulp/repos/Test_Organization/Library/custom/Test_Product/Test_Repository/","id":23,"name":"Test
        Repository","label":"Test_Repository","description":null,"last_sync":{"id":"13c27b65-6f38-4f12-b5c6-72ff6eec469e","username":"admin","started_at":"2019-08-16
        07:42:20 UTC","ended_at":"2019-08-16 07:42:29 UTC","state":"stopped","result":"success","progress":1.0},"content_view":{"id":11,"name":"Default
        Organization View"},"content_type":"yum","url":"https://repos.fedorapeople.org/pulp/pulp/demo_repos/zoo/","arch":"noarch","content_id":"1565941310912","major":null,"minor":null,"product":{"id":197,"cp_id":"539059912085","name":"Test
        Product","orphaned":false,"redhat":false,"sync_plan":null},"content_label":"Test_Organization_Test_Product_Test_Repository","content_counts":{"ostree_branch":0,"docker_manifest":0,"docker_manifest_list":0,"docker_tag":0,"rpm":32,"srpm":0,"package":32,"package_group":2,"erratum":4,"puppet_module":0,"file":0,"deb":0,"module_stream":0},"last_sync_words":"less
        than a minute"}]}

        '}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:42:33 GMT']
      etag: [W/"7bddd5c67dddb244bb72bbb7e52fd137"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [f5c5592e-410f-4b74-b195-cecf07c5785b]
      x-runtime: ['0.052464']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{}'
    headers:
      Accept: [application/json;version=2]
      Content-Length: ['2']
      Content-Type: [application/json]
      Cookie: [_session_id=c852a22ba23b2ec2807cfafcc864663f]
    method: POST
    uri: https://foreman.example.com/katello/api/repositories/23/sync
  response:
    body: {string: !!python/unicode '  {"id":"8ab4aa75-53b2-4033-b9fd-4c0a6fcb3c7e","label":"Actions::Katello::Repository::Sync","pending":true,"action":"Synchronize
        repository ''Test Repository''; product ''Test Product''; organization ''Test
        Organization''","username":"admin","started_at":"2019-08-16 07:42:33 UTC","ended_at":null,"state":"planned","result":"pending","progress":0.0,"input":{"repository":{"id":23,"name":"Test
        Repository","label":"Test_Repository"},"product":{"id":197,"name":"Test Product","label":"Test_Product","cp_id":"539059912085"},"provider":{"id":21,"name":"Anonymous"},"organization":{"id":13,"name":"Test
        Organization","label":"Test_Organization"},"services_checked":["pulp","pulp_auth"],"id":23,"sync_result":{"class":"Dynflow::ExecutionPlan::OutputReference","execution_plan_id":"511d3a43-df41-4685-85e0-dd750ee28276","step_id":3,"action_id":2,"subkeys":[]},"skip_metadata_check":false,"validate_contents":false,"contents_changed":{"class":"Dynflow::ExecutionPlan::OutputReference","execution_plan_id":"511d3a43-df41-4685-85e0-dd750ee28276","step_id":3,"action_id":2,"subkeys":["contents_changed"]},"current_request_id":null,"current_timezone":"UTC","current_user_id":4,"current_organization_id":null,"current_location_id":null},"output":{},"humanized":{"action":"Synchronize","input":[["repository",{"text":"repository
        ''Test Repository''","link":null}],["product",{"text":"product ''Test Product''","link":"/products/197/"}],["organization",{"text":"organization
        ''Test Organization''","link":"/organizations/13/edit"}]],"output":"","errors":[]},"cli_example":null}

        '}
    headers:
      cache-control: [no-cache]
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:42:33 GMT']
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      set-cookie: [request_method=POST; path=/; secure; HttpOnly; SameSite=Lax]
      status: [202 Accepted]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [2f423548-8b6c-40b2-9a70-aeb2f21edf57]
      x-runtime: ['0.424097']
      x-xss-protection: [1; mode=block]
    status: {code: 202, message: Accepted}
version: 1
