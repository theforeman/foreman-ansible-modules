interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/status
  response:
    body:
      string: '{"result":"ok","status":200,"version":"2.3.3","api_version":2}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.3.3
      Keep-Alive:
      - timeout=15, max=100
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '62'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/katello/api/organizations?search=name%3D%22Test+Organization%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 2,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\"\
        : 4294967296,\n  \"search\": \"name=\\\"Test Organization\\\"\",\n  \"sort\"\
        : {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"label\"\
        :\"Test_Organization\",\"created_at\":\"2021-03-18 16:15:36 UTC\",\"updated_at\"\
        :\"2021-03-18 16:16:30 UTC\",\"id\":3,\"name\":\"Test Organization\",\"title\"\
        :\"Test Organization\",\"description\":\"A test organization\"}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.3.3
      Keep-Alive:
      - timeout=15, max=99
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '388'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/katello/api/organizations/3/products?search=name%3D%22Red+Hat+Enterprise+Linux+Server%22&per_page=4294967296
  response:
    body:
      string: '{"total":289,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Red
        Hat Enterprise Linux Server\"","sort":{"by":"name","order":"asc"},"results":[{"id":126,"cp_id":"69","name":"Red
        Hat Enterprise Linux Server","label":"Red_Hat_Enterprise_Linux_Server","description":null,"provider_id":4,"sync_plan_id":null,"sync_summary":{},"gpg_key_id":null,"ssl_ca_cert_id":null,"ssl_client_cert_id":null,"ssl_client_key_id":null,"sync_state":null,"last_sync":null,"last_sync_words":null,"organization_id":3,"organization":{"name":"Test
        Organization","label":"Test_Organization","id":3},"sync_plan":null,"repository_count":0}]}

        '
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - 3; Test Organization
      Foreman_version:
      - 2.3.3
      Keep-Alive:
      - timeout=15, max=98
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '638'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/katello/api/products/126/repository_sets?organization_id=3&search=name%3D%22Red+Hat+Enterprise+Linux+7+Server+%28RPMs%29%22&per_page=4294967296
  response:
    body:
      string: '{"total":392,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Red
        Hat Enterprise Linux 7 Server (RPMs)\"","sort":{"by":"name","order":"asc"},"results":[{"enabled":true,"product":{"id":126,"name":"Red
        Hat Enterprise Linux Server"},"repositories":[],"name":"Red Hat Enterprise
        Linux 7 Server (RPMs)","vendor":"Red Hat","label":"rhel-7-server-rpms","id":"2456","type":"yum","gpgUrl":"file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release","contentUrl":"/content/dist/rhel/server/7/$releasever/$basearch/os"}]}

        '
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - 3; Test Organization
      Foreman_version:
      - 2.3.3
      Keep-Alive:
      - timeout=15, max=97
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '531'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/katello/api/products/126/repository_sets/2456?organization_id=3
  response:
    body:
      string: '  {"enabled":true,"product":{"id":126,"name":"Red Hat Enterprise Linux
        Server"},"repositories":[],"name":"Red Hat Enterprise Linux 7 Server (RPMs)","vendor":"Red
        Hat","label":"rhel-7-server-rpms","id":"2456","type":"yum","gpgUrl":"file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release","contentUrl":"/content/dist/rhel/server/7/$releasever/$basearch/os"}

        '
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - 3; Test Organization
      Foreman_version:
      - 2.3.3
      Keep-Alive:
      - timeout=15, max=96
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '352'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/katello/api/products/126/repository_sets/2456/available_repositories?organization_id=3
  response:
    body:
      string: '{"total":11,"subtotal":11,"page":null,"per_page":null,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"substitutions":{"releasever":"7Server","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7Server/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7Server","pulp_id":"c0c0b38d-1fe0-4ea9-81e5-ca0b1d1032d3","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.9","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.9/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.9","pulp_id":"6c1568f7-a03b-4c95-85f6-766480d13083","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.8","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.8/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.8","pulp_id":"0e2e9062-a6b3-4be8-b555-bf054e76e1e3","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.7","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.7/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.7","pulp_id":"620763b1-55a4-4961-ba0b-119dc5823ab2","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.6","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.6/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.6","pulp_id":"bb63a709-8add-46cd-9c2e-841d0e72b46c","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.5","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.5/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.5","pulp_id":"ed4a419d-7a86-4ec2-9712-22c32929fce9","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.4","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.4/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.4","pulp_id":"eef3c191-a1f1-4f95-89ce-9ea586f72673","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.3","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.3/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.3","pulp_id":"0544a2fe-d190-4888-90de-4dd875d9f2d9","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.2","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.2/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.2","pulp_id":"2701f190-8e85-4fea-b0a8-80c1a75c6e2a","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.1","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.1/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.1","pulp_id":"c4e71f2b-5e30-44f8-ab81-5916ecade449","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null},{"substitutions":{"releasever":"7.0","basearch":"x86_64"},"path":"/content/dist/rhel/server/7/7.0/x86_64/os","repo_name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7.0","pulp_id":"80d81a53-9156-4dfd-a657-f94e5347f9cd","name":"Red
        Hat Enterprise Linux 7 Server (RPMs)","enabled":false,"promoted":false,"repository_id":null}]}

        '
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - 3; Test Organization
      Foreman_version:
      - 2.3.3
      Keep-Alive:
      - timeout=15, max=95
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '3735'
    status:
      code: 200
      message: OK
- request:
    body: '{"basearch": "x86_64", "releasever": "7Server", "organization_id": 3}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '69'
      Content-Type:
      - application/json
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: PUT
    uri: https://foreman.example.org/katello/api/products/126/repository_sets/2456/enable
  response:
    body:
      string: '  {"id":"f1541a3f-7d2c-4aed-b201-c5bf6c938294","label":"Actions::Katello::RepositorySet::EnableRepository","pending":false,"action":"Enable
        repository ''Red Hat Enterprise Linux 7 Server RPMs x86_64 7Server''; product
        ''Red Hat Enterprise Linux Server''; organization ''Test Organization''","username":"admin","started_at":"2021-03-18
        16:16:37 UTC","ended_at":"2021-03-18 16:16:39 UTC","state":"stopped","result":"success","progress":1.0,"input":{"services_checked":["pulp3","candlepin","candlepin_auth"],"repository":{"id":1,"name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7Server","label":"Red_Hat_Enterprise_Linux_7_Server_RPMs_x86_64_7Server"},"product":{"id":126,"name":"Red
        Hat Enterprise Linux Server","label":"Red_Hat_Enterprise_Linux_Server","cp_id":"69"},"provider":{"id":4,"name":"Red
        Hat"},"organization":{"id":3,"name":"Test Organization","label":"Test_Organization"},"current_request_id":null,"current_timezone":"UTC","current_user_id":4,"current_organization_id":3,"current_location_id":null},"output":{"repository":{"name":"Red
        Hat Enterprise Linux 7 Server RPMs x86_64 7Server","id":1,"content_type":"yum"}},"humanized":{"action":"Enable","input":[["repository",{"text":"repository
        ''Red Hat Enterprise Linux 7 Server RPMs x86_64 7Server''","link":null}],["product",{"text":"product
        ''Red Hat Enterprise Linux Server''","link":"/products/126/"}],["organization",{"text":"organization
        ''Test Organization''","link":"/organizations/3/edit"}]],"output":"","errors":[]},"cli_example":null,"start_at":"2021-03-18
        16:16:37 UTC","available_actions":{"cancellable":false,"resumable":false}}

        '
    headers:
      Cache-Control:
      - no-cache
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - 3; Test Organization
      Foreman_version:
      - 2.3.3
      Keep-Alive:
      - timeout=15, max=94
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 202
      message: Accepted
version: 1
