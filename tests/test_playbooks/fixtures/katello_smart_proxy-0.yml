interactions:
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: GET
    uri: https://foreman.example.org/api/status
  response:
    body: {string: !!python/unicode '{"result":"ok","status":200,"version":"2.2.0-rc3","api_version":2}'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['66']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [; ANY]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=100']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: GET
    uri: https://foreman.example.org/katello/api/environments?per_page=4294967296&search=name%3D%22Dev%22
  response:
    body: {string: !!python/unicode '{"total":4,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Dev\"","sort":{"by":"name","order":"asc"},"results":[{"library":false,"registry_name_pattern":null,"registry_unauthenticated_pull":false,"id":3,"name":"Dev","label":"dev","description":null,"organization_id":4,"organization":{"name":"Test
        Organization","label":"Test_Organization","id":4},"created_at":"2020-10-20
        15:09:27 UTC","updated_at":"2020-10-20 15:09:27 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":4},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}

'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['789']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [; ANY]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=99']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: GET
    uri: https://foreman.example.org/api/smart_proxies?per_page=4294967296&search=name%3D%22Smart+Proxy%22
  response:
    body: {string: !!python/unicode "{\n  \"total\": 2,\n  \"subtotal\": 0,\n  \"page\":
        1,\n  \"per_page\": 4294967296,\n  \"search\": \"name=\\\"Smart Proxy\\\"\",\n
        \ \"sort\": {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\":
        []\n}\n"}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['177']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [; ANY]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=98']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"smart_proxy": {"url": "http://foreman-proxy.example.com:8000",
      "name": "Smart Proxy"}}'
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['88']
      Content-Type: [application/json]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: POST
    uri: https://foreman.example.org/api/smart_proxies
  response:
    body: {string: !!python/unicode '{"created_at":"2020-10-21 09:15:38 UTC","updated_at":"2020-10-21
        09:15:38 UTC","name":"Smart Proxy","id":15,"url":"http://foreman-proxy.example.com:8000","remote_execution_pubkey":null,"download_policy":"on_demand","supported_pulp_types":{"pulp2":{"supported_types":["deb","docker","file","puppet","yum"]},"pulp3":{"supported_types":[],"overriden_to_pulp2":[]}},"features":[{"capabilities":[],"name":"Pulp
        Node","id":3},{"capabilities":[],"name":"Templates","id":1},{"capabilities":[],"name":"Puppet
        CA","id":9},{"capabilities":[],"name":"Puppet","id":8},{"capabilities":[],"name":"Logs","id":13}],"locations":[],"organizations":[]}'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [; ANY]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=97']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: GET
    uri: https://foreman.example.org/katello/api/capsules/15/content/lifecycle_environments
  response:
    body: {string: !!python/unicode '{"total":0,"subtotal":0,"page":null,"per_page":null,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[]}

'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['125']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [; ANY]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=96']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"environment_id": 3}'
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['21']
      Content-Type: [application/json]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: POST
    uri: https://foreman.example.org/katello/api/capsules/15/content/lifecycle_environments
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":1,"page":null,"per_page":null,"error":null,"search":null,"sort":{"by":null,"order":null},"results":[{"library":false,"registry_name_pattern":null,"registry_unauthenticated_pull":false,"id":3,"name":"Dev","label":"dev","description":null,"organization_id":4,"organization":{"name":"Test
        Organization","label":"Test_Organization","id":4},"created_at":"2020-10-20
        15:09:27 UTC","updated_at":"2020-10-20 15:09:27 UTC","prior":{"name":"Library","id":2},"successor":{"name":"Test","id":4},"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}]}

'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['771']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [; ANY]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=95']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
version: 1
