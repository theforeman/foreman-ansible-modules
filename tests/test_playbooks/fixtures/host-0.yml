interactions:
- request:
    body: !!python/unicode '{"search": "name=\"test_group\""}'
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['37']
      User-Agent: [python-requests/2.22.0]
      content-type: [application/json]
    method: GET
    uri: https://foreman.example.com/api/v2/hostgroups
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA41SwW7CMAy98xVVzjDRoiFWidN+YTuNqQqtB5HSJEqciQrx7zNtYQ4Dabe85/di
        69nHSZYJtCi1KLN8ekYhblPCyR38AvDVSBTzQQ/S13vCwsgW1huBELDa24A7b6PbCDHIrEcSHelN
        aNvR20StpwO2vgE/UsSceouHEDUGoj+O57EMYKUaUfa+C3FueqEsTSdRmV3oAkLLxLcV7mpsK5Xp
        xcUVDQIBB9k6DU/USUwFmG/lrWnB8EE4y/+tbesiQuW8/VIamOO2wl3S1JSf7y7YSZ+2GwnucSi3
        SYOR4JoWGhV5JCOR/HOASlvZr4KHvPwT+zKdmQ5AIdQYPZ8iobneg9R8lAEn2RGF0FSSbkYU8/xl
        Nl/N8mWWF+ViUT6vsve3V1pIdM1/ZONqx52m90llVKjvFhoItVcOlTXXiKJzdHW0uUPHA+d0EulQ
        qOUjy7Vyx9UXHugH+vQ5OU1+AEOiy+vFAwAA
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-encoding: [gzip]
      content-length: ['369']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 12:34:01 GMT']
      etag: [W/"20e26e8a502c6f4a705eb9896639542f-gzip"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      keep-alive: ['timeout=5, max=10000']
      server: [Apache]
      set-cookie: [_session_id=de8b2a106a33d1f7f2159e596ed71766; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [8418d7e0-1ae0-4854-a869-0e0ecf05e8b7]
      x-runtime: ['0.081875']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.22.0]
      content-type: [application/json]
    method: GET
    uri: https://foreman.example.com/api/v2/domains/2
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA42OTwuCQBDFv4rMWcMNEttbdA261ElCNneKhW2VdYQo/O6NfwqTDt3mzXvzfvOE
        S2OtUzcE6XgKofCoCHWuCCQsY7GO4jQSSSCEXKUyToLjYQshNJX+J2Y0yGUIAwDwrm6VxYVDYk+7
        Ou/8gcvqPdbNmRMssxM3OEJ/UQWOulKey3g3alsWikzZXWfPnieSD/CANQW7McFIMmR/7TXWhTdV
        r/onWm4u/VU585i3r77b95PUnDDzviiwCajLTCnQntoXbjf3wZIBAAA=
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-encoding: [gzip]
      content-length: ['212']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 12:34:01 GMT']
      etag: [W/"ca7d7f3264e73ca8ea1e0dc5f0817120-gzip"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      keep-alive: ['timeout=5, max=10000']
      server: [Apache]
      set-cookie: [_session_id=4e218779c5641c396e2a434503ebcf4d; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [5c678893-8371-4369-a653-744c72e1d996]
      x-runtime: ['0.141634']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"search": "name=\"test-host.example.net\""}'
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['44']
      User-Agent: [python-requests/2.22.0]
      content-type: [application/json]
    method: GET
    uri: https://foreman.example.com/api/v2/hosts
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAAz2LQQ7CMAwE73lF5HOpgCMSL6EIpcWiBzeJbEcCVf07blO47czuzs570KSB4OJP
        zUpS+p84biKHF/7bjPzYxbnWgoGH0RhimPDagaLoYUyiLb7DlAnbiNoB1HVite1s2aj/WI6FqKmc
        +Im8KzPLdmGUQiqmb3e3uC++DqdOswAAAA==
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-encoding: [gzip]
      content-length: ['139']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 12:34:02 GMT']
      etag: [W/"5653263b153eef31a01e9ab844bb1923-gzip"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      keep-alive: ['timeout=5, max=10000']
      server: [Apache]
      set-cookie: [_session_id=21e3b033f6fda65667e46bfe48abd2db; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [a90e081d-3483-4927-8282-c98af46c4723]
      x-runtime: ['0.115632']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"search": "title=\"Test Location\""}'
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['37']
      User-Agent: [python-requests/2.22.0]
      content-type: [application/json]
    method: GET
    uri: https://foreman.example.com/api/v2/locations
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA42PMWvDMBCFd/8KcbMDlt2G1tApa8ZkaoJRpCMxqJI5nYdg/N9zkRNKS4du9z69
        p3c3FUoBRzYeWlWXd5XG0xPoDAZzxm+B1D1AXS1+NGQvooF79vhxgB0mVttoDfcxHAAWWyQW0ySz
        qNNV5jB6Xy46kkN6ICFzjhCm0XMS/DmBCVa+JcnlmGxFGLjr3S8QzBc+kSU0jK4z0gx1pd9X1dtK
        r5Wu26ZpX1/UfreBEsbB/cd2r9LrEpaGn1fKc77+D+4wWeqHrPJe87GYixt7rR9XeQEAAA==
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-encoding: [gzip]
      content-length: ['223']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 12:34:02 GMT']
      etag: [W/"e1321c4e2c50be3964c4264968c95c64-gzip"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      keep-alive: ['timeout=5, max=10000']
      server: [Apache]
      set-cookie: [_session_id=ccf42dfdaae644dd5c1eb377bc6465e7; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [93e6a0d3-f21e-4fcf-bfbe-f34675ee65dc]
      x-runtime: ['0.088161']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"search": "name=\"Test Organization\""}'
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['40']
      User-Agent: [python-requests/2.22.0]
      content-type: [application/json]
    method: GET
    uri: https://foreman.example.com/katello/api/v2/organizations
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA42PwUrEMBCG732KMOcuNC0rGvAgPoCX3ZMrJW2GNRCbMpke1tJ3dzatuAiCt/n+
        +YY/mQulgCPbAEY15ZXS1H0HOgejPeMPILVbUFerj5b6d2EY7Ac+nuCAidULne3gPy37OJwAVjMS
        izfLLNRdZB6mEMqVIzmkLZJkySeEaQqcJH6dIdgO5Vm5oL0tgBJ6QsvoWisNUFf6YVfd7/Sd0rVp
        GrPX6nh4Fm0a3X8078DofZl/tBWqX4XsOfy1c5h68mMmA0+Kr068dZa3Yim+AOix9L99AQAA
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-encoding: [gzip]
      content-length: ['225']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 12:34:02 GMT']
      etag: [W/"fc6b95add7616dfd02ad323c8289394b-gzip"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      keep-alive: ['timeout=5, max=10000']
      server: [Apache]
      set-cookie: [_session_id=af0861e3a65c41fc5041fe88f4b99f57; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [5536db0a-2fe1-4fc2-933d-5b68be138072]
      x-runtime: ['0.100949']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"host": {"managed": false, "enabled": true, "hostgroup_id":
      2, "organization_id": 15, "location_id": 16, "name": "test-host.example.net"}}'
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['139']
      User-Agent: [python-requests/2.22.0]
      content-type: [application/json]
    method: POST
    uri: https://foreman.example.com/api/v2/hosts
  response:
    body: {string: !!python/unicode '{"ip":null,"ip6":null,"environment_id":null,"environment_name":null,"last_report":null,"mac":null,"realm_id":null,"realm_name":null,"sp_mac":null,"sp_ip":null,"sp_name":null,"domain_id":2,"domain_name":"example.net","architecture_id":null,"architecture_name":null,"operatingsystem_id":null,"operatingsystem_name":null,"subnet_id":null,"subnet_name":null,"subnet6_id":null,"subnet6_name":null,"sp_subnet_id":null,"ptable_id":null,"ptable_name":null,"medium_id":null,"medium_name":null,"pxe_loader":null,"build":false,"comment":null,"disk":null,"installed_at":null,"model_id":null,"hostgroup_id":2,"owner_id":4,"owner_name":"Admin
        User","owner_type":"User","enabled":true,"managed":false,"use_image":null,"image_file":"","uuid":null,"compute_resource_id":null,"compute_resource_name":null,"compute_profile_id":null,"compute_profile_name":null,"capabilities":["build"],"provision_method":"build","certname":"test-host.example.net","image_id":null,"image_name":null,"created_at":"2019-08-16
        12:34:02 UTC","updated_at":"2019-08-16 12:34:02 UTC","last_compile":null,"global_status":0,"global_status_label":"OK","uptime_seconds":null,"organization_id":15,"organization_name":"Test
        Organization","location_id":16,"location_name":"Test Location","puppet_status":0,"model_name":null,"name":"test-host.example.net","id":5,"puppet_proxy_id":null,"puppet_proxy_name":null,"puppet_ca_proxy_id":null,"puppet_ca_proxy_name":null,"puppet_proxy":null,"puppet_ca_proxy":null,"hostgroup_name":"test_group","hostgroup_title":"test_group","parameters":[],"all_parameters":[],"host_collections":[],"interfaces":[{"subnet_id":null,"subnet_name":null,"subnet6_id":null,"subnet6_name":null,"domain_id":2,"domain_name":"example.net","created_at":"2019-08-16
        12:34:02 UTC","updated_at":"2019-08-16 12:34:02 UTC","managed":true,"identifier":null,"id":7,"name":"test-host.example.net","ip":null,"ip6":null,"mac":null,"mtu":null,"fqdn":"test-host.example.net","primary":true,"provision":true,"type":"interface","virtual":false}],"puppetclasses":[],"config_groups":[],"all_puppetclasses":[],"permissions":{"view_hosts":true,"create_hosts":true,"edit_hosts":true,"destroy_hosts":true,"build_hosts":true,"power_hosts":true,"console_hosts":true,"ipmi_boot_hosts":true,"puppetrun_hosts":true}}'}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 12:34:02 GMT']
      etag: [W/"219151facd723ccbbce20f407aebdc60"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      keep-alive: ['timeout=5, max=10000']
      server: [Apache]
      set-cookie: [request_method=POST; path=/; secure; HttpOnly; SameSite=Lax, _session_id=87f74bcccc2ab54bd0b9983777ee1776;
          path=/; secure; HttpOnly; SameSite=Lax]
      status: [201 Created]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [12e57d67-6585-4ab5-b594-1d5b43469907]
      x-runtime: ['0.420678']
      x-xss-protection: [1; mode=block]
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: ['*/*']
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python-requests/2.22.0]
      content-type: [application/json]
    method: GET
    uri: https://foreman.example.com/api/v2/hosts/5
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA61VS1PbMBD+KxmfgUlSSNvcOj22M1zg1GE0sr0JmupVaQWkDP+9K1tyZDsUDty0
        376feq6ErbY6SHlGr01+gn4QzmgFGploT6GaK8i45B6ZA2scZkjxJj8dcKkKKz1d6nvLCnmijjER
        UUq2RnGhO2PrgeoFKnjiykq40IDVWcVdcy8QGgwOCucjuLRsLDiOQu/9wSOU8U45o8hDTe4K4QTM
        ZTYzoc20BjNjFnktYQ6UegpaEcpwE1DK2Cdg0vAWXEbqICRp7Lj0cFY1RsWeDkUW/vcwE9ojlxJa
        xo+9NS3IwuO98bh3JtjcF/OowXXEZSZSj761SujFradIMgcPNnISBjpmSJroAsQx0nwPx0iDp3Io
        gob4IsF2QkYbpB/CMS5KywYEmkxvgmvKQs5YZbky0zoTDZ9Qy5yRFre8FlKgAF9tf6US31H1nXkQ
        XhjNFOC9IWOJRzrgMFUGweN5rOTFeI77BI8h9PTIMS0UpgZV6+Xq6/nyy/lqs1itt58ut8v14vbm
        e6yMbd8j1u1yzLMrae9hL03NJaNJwEC5LScIk7wGSVavf3R+UChgHhqjWz8skdtzLf7SHpl+fVdX
        EzDV4YbqsLguGDEm0xSKmwIolX4mkBRssJY2qQi4n9mybG/VnVxdDZaoh0+HchFLeLRqPaPhr6kM
        nBNaHeMV+fmyFQmwAa1KCRQoT4pY7kgZwcVJpRGlDWdTLMrTINDuN7GqCRWaJHa86Wb8+QPv3/sv
        +8fO+3Bh+oMjWjqEYieOpzJG9PntcTn1ixafmsKQn7s/rf6PJetoxd0hBzRcjwykezk0glToV8bA
        ZbqSL3d5eBpaZg+pc7SOO7Fn3QiUbZ9L0n+nhPd905/JOjx20+NzCH0Hxhj9OjhGWkrQmcMY7C7f
        GLLmkb6BsQNybeTEg7BKsNqYiZs+ARd0Cb+8/AM6Y7Pt2QgAAA==
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-encoding: [gzip]
      content-length: ['721']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 12:34:03 GMT']
      etag: [W/"219151facd723ccbbce20f407aebdc60-gzip"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      keep-alive: ['timeout=5, max=10000']
      server: [Apache]
      set-cookie: [_session_id=4c7edc37d2548a11a3e278c9a56dd235; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [3488c5b4-d1d8-4bdf-b5ef-694fa68d833a]
      x-runtime: ['0.239409']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
version: 1
