interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/status
  response:
    body:
      string: '{"result":"ok","status":200,"version":"3.1.3","api_version":2}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.1.3
      Keep-Alive:
      - timeout=15, max=100
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '62'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/hosts?thin=false&search=name%3D%22debian11.deploy3.dev.atix%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 8,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"debian11.deploy3.dev.atix\\\"\",\n  \"sort\":
        {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"id\":6,\"name\":\"debian11.deploy3.dev.atix\"}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.1.3
      Keep-Alive:
      - timeout=15, max=99
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '234'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/hosts/6
  response:
    body:
      string: "{\"ip\":\"192.168.171.106\",\"ip6\":null,\"last_report\":null,\"mac\":\"00:50:56:a3:1b:24\",\"realm_id\":null,\"realm_name\":null,\"sp_mac\":null,\"sp_ip\":null,\"sp_name\":null,\"domain_id\":1,\"domain_name\":\"deploy3.dev.atix\",\"architecture_id\":1,\"architecture_name\":\"x86_64\",\"operatingsystem_id\":10,\"operatingsystem_name\":\"Debian
        Bullseye\",\"subnet_id\":1,\"subnet_name\":\"ENG171_4\",\"subnet6_id\":null,\"subnet6_name\":null,\"sp_subnet_id\":null,\"ptable_id\":144,\"ptable_name\":\"Preseed
        default\",\"medium_id\":21,\"medium_name\":\"Debian Mirror\",\"pxe_loader\":\"PXELinux
        BIOS\",\"build\":false,\"comment\":null,\"disk\":null,\"installed_at\":\"2022-11-03
        11:33:53 UTC\",\"model_id\":null,\"hostgroup_id\":5,\"owner_id\":4,\"owner_name\":\"Admin
        User\",\"owner_type\":\"User\",\"enabled\":true,\"managed\":true,\"use_image\":null,\"image_file\":\"\",\"uuid\":\"5023b735-d4d6-b692-4192-3ad0eca283cb\",\"compute_resource_id\":1,\"compute_resource_name\":\"VMware\",\"compute_profile_id\":4,\"compute_profile_name\":\"Orchahosts-VM\",\"capabilities\":[\"build\",\"image\",\"snapshots\",\"snapshot_include_ram\",\"snapshot_include_quiesce\",\"editable_snapshot_name\",\"bootdisk\"],\"provision_method\":\"build\",\"certname\":\"debian11.deploy3.dev.atix\",\"image_id\":null,\"image_name\":null,\"created_at\":\"2022-11-03
        11:28:18 UTC\",\"updated_at\":\"2022-11-03 11:33:54 UTC\",\"last_compile\":null,\"global_status\":0,\"global_status_label\":\"Warning\",\"uptime_seconds\":null,\"bmc_available\":false,\"organization_id\":1,\"organization_name\":\"\xC4TIX\",\"location_id\":2,\"location_name\":\"\xC4ngineering\",\"puppet_status\":0,\"model_name\":null,\"configuration_status\":0,\"configuration_status_label\":\"No
        reports\",\"build_status\":0,\"build_status_label\":\"Installed\",\"execution_status\":0,\"execution_status_label\":\"Last
        execution succeeded\",\"errata_status\":0,\"errata_status_label\":\"All errata
        applied\",\"subscription_status\":0,\"subscription_status_label\":\"Fully
        entitled\",\"purpose_sla_status\":3,\"purpose_sla_status_label\":\"Not Specified\",\"purpose_role_status\":3,\"purpose_role_status_label\":\"Not
        Specified\",\"purpose_usage_status\":3,\"purpose_usage_status_label\":\"Not
        Specified\",\"purpose_addons_status\":3,\"purpose_addons_status_label\":\"Not
        Specified\",\"purpose_status\":3,\"purpose_status_label\":\"Not Specified\",\"traces_status\":0,\"traces_status_label\":\"No
        processes require restarting\",\"name\":\"debian11.deploy3.dev.atix\",\"id\":6,\"puppet_proxy_id\":1,\"puppet_proxy_name\":\"or.deploy3.dev.atix\",\"puppet_ca_proxy_id\":1,\"puppet_ca_proxy_name\":\"or.deploy3.dev.atix\",\"openscap_proxy_id\":1,\"openscap_proxy_name\":\"or.deploy3.dev.atix\",\"puppet_proxy\":{\"name\":\"or.deploy3.dev.atix\",\"id\":1,\"url\":\"https://or.deploy3.dev.atix:9090\"},\"puppet_ca_proxy\":{\"name\":\"or.deploy3.dev.atix\",\"id\":1,\"url\":\"https://or.deploy3.dev.atix:9090\"},\"openscap_proxy\":{\"name\":\"or.deploy3.dev.atix\",\"id\":1,\"url\":\"https://or.deploy3.dev.atix:9090\"},\"cockpit_url\":\"/webcon/=debian11.deploy3.dev.atix\",\"hostgroup_name\":\"debian11\",\"hostgroup_title\":\"debian11\",\"parameters\":[],\"all_parameters\":[{\"priority\":60,\"created_at\":\"2022-11-03
        11:28:02 UTC\",\"updated_at\":\"2022-11-03 11:28:02 UTC\",\"id\":50,\"name\":\"salt_master\",\"parameter_type\":\"string\",\"value\":\"or.deploy3.dev.atix\"},{\"priority\":60,\"created_at\":\"2022-11-03
        11:28:02 UTC\",\"updated_at\":\"2022-11-03 11:28:02 UTC\",\"id\":49,\"name\":\"kt_activation_keys\",\"parameter_type\":\"string\",\"value\":\"ac_Debian11\"},{\"priority\":60,\"created_at\":\"2022-11-03
        11:28:02 UTC\",\"updated_at\":\"2022-11-03 11:28:02 UTC\",\"id\":51,\"name\":\"ansible_python_interpreter\",\"parameter_type\":\"string\",\"value\":\"/usr/bin/python3\"},{\"priority\":50,\"created_at\":\"2022-11-03
        11:13:26 UTC\",\"updated_at\":\"2022-11-03 11:13:26 UTC\",\"id\":14,\"name\":\"or_client_repo_url\",\"parameter_type\":\"string\",\"value\":\"http://or.deploy3.dev.atix/pulp/deb/362d2329-32ed-4b22-92fa-cb4d810890dd/Library/custom/Debian_Client/Debian_Client_11/\"},{\"priority\":0,\"created_at\":\"2022-11-03
        11:14:08 UTC\",\"updated_at\":\"2022-11-03 11:14:08 UTC\",\"id\":38,\"name\":\"use-sles-client-v2\",\"parameter_type\":\"boolean\",\"value\":true},{\"priority\":0,\"created_at\":\"2022-11-03
        10:54:17 UTC\",\"updated_at\":\"2022-11-03 10:54:17 UTC\",\"id\":3,\"name\":\"host_registration_remote_execution\",\"parameter_type\":\"boolean\",\"value\":true},{\"priority\":0,\"created_at\":\"2022-11-03
        10:54:17 UTC\",\"updated_at\":\"2022-11-03 10:54:17 UTC\",\"id\":2,\"name\":\"host_registration_insights\",\"parameter_type\":\"boolean\",\"value\":false},{\"priority\":0,\"created_at\":\"2022-11-03
        10:54:17 UTC\",\"updated_at\":\"2022-11-03 10:54:17 UTC\",\"id\":4,\"name\":\"host_packages\",\"parameter_type\":\"string\",\"value\":\"\"},{\"priority\":0,\"created_at\":\"2022-11-03
        11:09:57 UTC\",\"updated_at\":\"2022-11-03 11:09:57 UTC\",\"id\":5,\"name\":\"blacklist_kernel_modules\",\"parameter_type\":\"string\",\"value\":\"pcspkr
        floppy\"},{\"priority\":0,\"created_at\":\"2022-11-03 10:54:17 UTC\",\"updated_at\":\"2022-11-03
        10:54:17 UTC\",\"id\":1,\"name\":\"ansible_roles_check_mode\",\"parameter_type\":\"boolean\",\"value\":false}],\"content_facet_attributes\":{\"id\":1,\"uuid\":\"3838dff3-9263-48ef-b8e7-4db57e5366ca\",\"content_view_id\":10,\"content_view_name\":\"CV
        Debian11\",\"lifecycle_environment_id\":1,\"lifecycle_environment_name\":\"Library\",\"content_source_id\":null,\"content_source_name\":null,\"kickstart_repository_id\":null,\"kickstart_repository_name\":null,\"errata_counts\":{\"security\":0,\"bugfix\":0,\"enhancement\":0,\"total\":0},\"applicable_deb_count\":116,\"upgradable_deb_count\":1,\"applicable_package_count\":0,\"upgradable_package_count\":0,\"applicable_module_stream_count\":0,\"upgradable_module_stream_count\":0,\"content_view\":{\"id\":10,\"name\":\"CV
        Debian11\",\"composite\":false},\"lifecycle_environment\":{\"id\":1,\"name\":\"Library\"},\"content_source\":null,\"kickstart_repository\":null,\"content_view_version\":\"1.0\",\"content_view_version_id\":10,\"content_view_version_latest\":true,\"content_view_default?\":false,\"lifecycle_environment_library?\":true,\"katello_agent_installed\":false,\"katello_tracer_installed\":true,\"katello_agent_enabled\":false,\"remote_execution_by_default\":true},\"subscription_global_status\":0,\"subscription_facet_attributes\":{\"host_type\":null,\"dmi_uuid\":null,\"id\":1,\"uuid\":\"3838dff3-9263-48ef-b8e7-4db57e5366ca\",\"last_checkin\":\"2022-11-03
        11:43:54 UTC\",\"service_level\":\"\",\"release_version\":null,\"autoheal\":true,\"registered_at\":\"2022-11-03
        11:33:39 UTC\",\"registered_through\":\"or.deploy3.dev.atix\",\"purpose_role\":\"\",\"purpose_usage\":\"\",\"hypervisor\":false,\"user\":null,\"purpose_addons\":[],\"virtual_host\":null,\"virtual_guests\":[],\"installed_products\":[],\"activation_keys\":[{\"id\":9,\"name\":\"ac_Debian11\"}],\"compliance_reasons\":[]},\"environment_id\":1,\"environment_name\":\"production\",\"host_collections\":[],\"interfaces\":[{\"subnet_id\":1,\"subnet_name\":\"ENG171_4\",\"subnet6_id\":null,\"subnet6_name\":null,\"domain_id\":1,\"domain_name\":\"deploy3.dev.atix\",\"created_at\":\"2022-11-03
        11:28:18 UTC\",\"updated_at\":\"2022-11-03 11:28:18 UTC\",\"managed\":true,\"identifier\":null,\"id\":6,\"name\":\"debian11.deploy3.dev.atix\",\"ip\":\"192.168.171.106\",\"ip6\":null,\"mac\":\"00:50:56:a3:1b:24\",\"mtu\":1500,\"fqdn\":\"debian11.deploy3.dev.atix\",\"primary\":true,\"provision\":true,\"type\":\"interface\",\"execution\":true,\"virtual\":false}],\"facts\":{},\"puppet\":{\"puppetclasses\":[],\"config_groups\":[],\"all_puppetclasses\":[]},\"puppetclasses\":[],\"config_groups\":[],\"all_puppetclasses\":[],\"permissions\":{\"view_hosts\":true,\"create_hosts\":true,\"edit_hosts\":true,\"destroy_hosts\":true,\"build_hosts\":true,\"power_hosts\":true,\"console_hosts\":true,\"ipmi_boot_hosts\":true,\"forget_status_hosts\":true,\"cockpit_hosts\":true,\"view_snapshots\":true,\"create_snapshots\":true,\"edit_snapshots\":true,\"destroy_snapshots\":true,\"revert_snapshots\":true,\"play_roles_on_host\":true,\"view_discovered_hosts\":true,\"submit_discovered_hosts\":true,\"auto_provision_discovered_hosts\":true,\"provision_discovered_hosts\":true,\"edit_discovered_hosts\":true,\"destroy_discovered_hosts\":true,\"saltrun_hosts\":true}}"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.1.3
      Keep-Alive:
      - timeout=15, max=98
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '7637'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/hosts?thin=true&search=name%3D%22debian11.deploy3.dev.atix%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 8,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"debian11.deploy3.dev.atix\\\"\",\n  \"sort\":
        {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"id\":6,\"name\":\"debian11.deploy3.dev.atix\"}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.1.3
      Keep-Alive:
      - timeout=15, max=97
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '234'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/hosts/6/snapshots?search=name%3D%22ansible%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 1,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"ansible\\\"\",\n  \"sort\": {\n    \"by\":
        null,\n    \"order\": null\n  },\n  \"results\": [{\"description\":\"\",\"id\":\"snapshot-7831\",\"name\":\"ansible\",\"formatted_created_at\":\"Thu,
        24 Nov 2022 13:44:30 GMT\",\"created_at\":\"2022-11-24 13:44:30 UTC\",\"parent_id\":null,\"children_ids\":null}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.1.3
      Keep-Alive:
      - timeout=15, max=96
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '360'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/hosts/6/snapshots/snapshot-7831
  response:
    body:
      string: '{"description":"","id":"snapshot-7831","name":"ansible","formatted_created_at":"Thu,
        24 Nov 2022 13:44:30 GMT","created_at":"2022-11-24 13:44:30 UTC","parent_id":null,"children_ids":null}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 3.1.3
      Keep-Alive:
      - timeout=15, max=95
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '187'
    status:
      code: 200
      message: OK
version: 1
