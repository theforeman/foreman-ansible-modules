interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/status
  response:
    body:
      string: '{"result": "ok", "status": 200, "version": "2.2.1", "api_version":
        2}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=100
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '62'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/users?search=login%3D%22Gandalf%22&per_page=4294967296
  response:
    body:
      string: '{"total": 2, "subtotal": 1, "page": 1, "per_page": 4294967296, "search":
        "login=\"Gandalf\"", "sort": {"by": null, "order": null}, "results": [{"firstname":
        "Wei\u00df", "lastname": "Grau", "mail": "gandalf@mordor.auen", "admin": true,
        "auth_source_id": 1, "disabled": false, "auth_source_name": "Internal", "timezone":
        "Berlin", "locale": "de", "last_login_on": null, "created_at": "2021-01-08
        14:59:45 UTC", "updated_at": "2021-01-11 15:15:46 UTC", "id": 6, "login":
        "Gandalf", "description": "Gro\u00dfer alter Mann", "ssh_keys": [], "default_location":
        {"id": 4, "name": "Test Location", "title": "Test Location", "description":
        null}, "locations": [{"id": 4, "name": "Test Location"}], "default_organization":
        {"id": 3, "name": "Test Organization", "title": "Test Organization", "description":
        "A test organization"}, "organizations": [{"id": 3, "name": "Test Organization"}],
        "effective_admin": true}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=99
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '868'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/users/6
  response:
    body:
      string: '{"firstname": "Wei\u00df", "lastname": "Grau", "mail": "gandalf@mordor.auen",
        "admin": true, "auth_source_id": 1, "disabled": false, "auth_source_name":
        "Internal", "timezone": "Berlin", "locale": "de", "last_login_on": null, "created_at":
        "2021-01-08 14:59:45 UTC", "updated_at": "2021-01-11 15:15:46 UTC", "id":
        6, "login": "Gandalf", "description": "Gro\u00dfer alter Mann", "ssh_keys":
        [], "default_location": {"id": 4, "name": "Test Location", "title": "Test
        Location", "description": null}, "locations": [{"id": 4, "name": "Test Location",
        "title": "Test Location", "description": null}], "default_organization": {"id":
        3, "name": "Test Organization", "title": "Test Organization", "description":
        "A test organization"}, "organizations": [{"id": 3, "name": "Test Organization",
        "title": "Test Organization", "description": "A test organization"}], "effective_admin":
        true, "cached_usergroups": [{"name": "Lemminge", "id": 2, "created_at": "2021-01-08
        14:59:47 UTC", "updated_at": "2021-01-08 14:59:47 UTC", "roles": []}], "auth_source_internal":
        {"id": 1, "type": "AuthSourceInternal", "name": "Internal"}, "mail_notifications":
        [], "roles": [{"name": "Viewer", "id": 8, "description": "Role granting read
        only access. Users with this role can see all data but can not do any modifications",
        "origin": "foreman"}], "usergroups": [{"name": "Lemminge", "id": 2, "created_at":
        "2021-01-08 14:59:47 UTC", "updated_at": "2021-01-08 14:59:47 UTC", "roles":
        []}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=98
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '1345'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/katello/api/organizations?search=name%3D%22Test+Organization%22&per_page=4294967296
  response:
    body:
      string: '{"total": 2, "subtotal": 1, "page": 1, "per_page": 4294967296, "search":
        "name=\"Test Organization\"", "sort": {"by": null, "order": null}, "results":
        [{"label": "Test_Organization", "created_at": "2021-01-08 14:46:05 UTC", "updated_at":
        "2021-01-08 14:46:05 UTC", "id": 3, "name": "Test Organization", "title":
        "Test Organization", "description": "A test organization"}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=97
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '388'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/locations?search=title%3D%22Test+Location%22&per_page=4294967296
  response:
    body:
      string: '{"total": 2, "subtotal": 1, "page": 1, "per_page": 4294967296, "search":
        "title=\"Test Location\"", "sort": {"by": null, "order": null}, "results":
        [{"ancestry": null, "parent_id": null, "parent_name": null, "created_at":
        "2021-01-11 10:51:48 UTC", "updated_at": "2021-01-11 10:51:48 UTC", "id":
        4, "name": "Test Location", "title": "Test Location", "description": null}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=96
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '384'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/locations?search=title%3D%22Test+Location%22&per_page=4294967296
  response:
    body:
      string: '{"total": 2, "subtotal": 1, "page": 1, "per_page": 4294967296, "search":
        "title=\"Test Location\"", "sort": {"by": null, "order": null}, "results":
        [{"ancestry": null, "parent_id": null, "parent_name": null, "created_at":
        "2021-01-11 10:51:48 UTC", "updated_at": "2021-01-11 10:51:48 UTC", "id":
        4, "name": "Test Location", "title": "Test Location", "description": null}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=95
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '384'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/katello/api/organizations?search=name%3D%22Test+Organization%22&per_page=4294967296
  response:
    body:
      string: '{"total": 2, "subtotal": 1, "page": 1, "per_page": 4294967296, "search":
        "name=\"Test Organization\"", "sort": {"by": null, "order": null}, "results":
        [{"label": "Test_Organization", "created_at": "2021-01-08 14:46:05 UTC", "updated_at":
        "2021-01-08 14:46:05 UTC", "id": 3, "name": "Test Organization", "title":
        "Test Organization", "description": "A test organization"}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=94
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '388'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/auth_sources?search=name%3D%22Internal%22&per_page=4294967296
  response:
    body:
      string: '{"total": 3, "subtotal": 1, "page": 1, "per_page": 4294967296, "search":
        "name=\"Internal\"", "sort": {"by": null, "order": null}, "results": [{"created_at":
        "2020-11-26 16:24:59 UTC", "updated_at": "2020-11-26 16:24:59 UTC", "id":
        1, "type": "AuthSourceInternal", "name": "Internal", "locations": [{"id":
        2, "name": "Minga", "title": "Minga", "description": null}], "organizations":
        [{"id": 1, "name": "ACMELAB", "title": "ACMELAB", "description": ""}]}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=93
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '458'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/roles?search=name%3D%22Viewer%22&per_page=4294967296
  response:
    body:
      string: '{"total": 31, "subtotal": 1, "page": 1, "per_page": 4294967296, "search":
        "name=\"Viewer\"", "sort": {"by": "name", "order": "ASC"}, "results": [{"builtin":
        0, "cloned_from_id": null, "name": "Viewer", "id": 8, "description": "Role
        granting read only access. Users with this role can see all data but can not
        do any modifications", "origin": "foreman"}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=92
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '372'
    status:
      code: 200
      message: OK
- request:
    body: '{"user": {"mail": " gandalf@mordor.auen", "password": "PASSWORD"}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '66'
      Content-Type:
      - application/json
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: PUT
    uri: https://foreman.example.org/api/users/6
  response:
    body:
      string: '{"firstname": "Wei\u00df", "lastname": "Grau", "mail": "gandalf@mordor.auen",
        "admin": true, "auth_source_id": 1, "disabled": false, "auth_source_name":
        "Internal", "timezone": "Berlin", "locale": "de", "last_login_on": null, "created_at":
        "2021-01-08 14:59:45 UTC", "updated_at": "2021-01-11 15:18:04 UTC", "id":
        6, "login": "Gandalf", "description": "Gro\u00dfer alter Mann", "ssh_keys":
        [], "default_location": {"id": 4, "name": "Test Location", "title": "Test
        Location", "description": null}, "locations": [{"id": 4, "name": "Test Location",
        "title": "Test Location", "description": null}], "default_organization": {"id":
        3, "name": "Test Organization", "title": "Test Organization", "description":
        "A test organization"}, "organizations": [{"id": 3, "name": "Test Organization",
        "title": "Test Organization", "description": "A test organization"}], "effective_admin":
        true, "cached_usergroups": [{"name": "Lemminge", "id": 2, "created_at": "2021-01-08
        14:59:47 UTC", "updated_at": "2021-01-08 14:59:47 UTC", "roles": []}], "auth_source_internal":
        {"id": 1, "type": "AuthSourceInternal", "name": "Internal"}, "mail_notifications":
        [], "roles": [{"name": "Viewer", "id": 8, "description": "Role granting read
        only access. Users with this role can see all data but can not do any modifications",
        "origin": "foreman"}], "usergroups": [{"name": "Lemminge", "id": 2, "created_at":
        "2021-01-08 14:59:47 UTC", "updated_at": "2021-01-08 14:59:47 UTC", "roles":
        []}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.2.1
      Keep-Alive:
      - timeout=15, max=91
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '1345'
    status:
      code: 200
      message: OK
version: 1
