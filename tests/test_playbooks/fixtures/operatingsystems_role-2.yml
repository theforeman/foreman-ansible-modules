interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/status
  response:
    body:
      string: '{"result":"ok","status":200,"version":"2.5.4","api_version":2}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.5.4
      Keep-Alive:
      - timeout=15, max=100
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '62'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/template_kinds?search=name%3D%22user_data%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 13,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"user_data\\\"\",\n  \"sort\": {\n    \"by\":
        null,\n    \"order\": null\n  },\n  \"results\": [{\"created_at\":\"2021-11-15
        13:19:48 UTC\",\"updated_at\":\"2021-11-15 13:19:48 UTC\",\"name\":\"user_data\",\"id\":9}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.5.4
      Keep-Alive:
      - timeout=15, max=99
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '281'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/provisioning_templates?search=name%3D%22UserData+open-vm-tools%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 110,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"name=\\\"UserData open-vm-tools\\\"\",\n  \"sort\":
        {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"snippet\":false,\"description\":null,\"created_at\":\"2021-11-15
        13:19:49 UTC\",\"updated_at\":\"2021-11-15 13:19:49 UTC\",\"id\":110,\"name\":\"UserData
        open-vm-tools\",\"template_kind_id\":9,\"template_kind_name\":\"user_data\"}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.5.4
      Keep-Alive:
      - timeout=15, max=98
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '399'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/provisioning_templates/110
  response:
    body:
      string: '{"template":"<%#\nkind: user_data\nname: UserData open-vm-tools\nmodel:
        ProvisioningTemplate\noses:\n- AlmaLinux\n- CentOS\n- Fedora\n- Rocky\n- Debian\n-
        Ubuntu\n-%>\n# Template for VMWare customization via open-vm-tools\n\nidentity:\n  LinuxPrep:\n    domain:
        <%= @host.domain %>\n    hostName: <%= @host.shortname %>\n    hwClockUTC:
        true\n    timeZone: <%= host_param(''time-zone'') || ''UTC'' %>\n\nglobalIPSettings:\n  dnsSuffixList:
        [<%= @host.domain %>]\n  <%- @host.interfaces.each do |interface| -%>\n  <%-
        next unless interface.subnet -%>\n  dnsServerList: [<%= interface.subnet.dns_servers.join('',
        '') %>]\n  <%- end -%>\n\nnicSettingMap:\n<%- @host.interfaces.each do |interface|
        -%>\n<%- next unless interface.subnet -%>\n  - adapter:\n      dnsDomain:
        <%= interface.domain %>\n      dnsServerList: [<%= interface.subnet.dns_servers.join('',
        '') %>]\n      gateway: [<%= interface.subnet.gateway %>]\n      ip: <%= interface.ip
        %>\n      subnetMask: <%= interface.subnet.mask %>\n<%- end -%>\n","locked":true,"snippet":false,"description":null,"created_at":"2021-11-15
        13:19:49 UTC","updated_at":"2021-11-15 13:19:49 UTC","id":110,"name":"UserData
        open-vm-tools","template_kind_id":9,"template_kind_name":"user_data","template_combinations":[],"operatingsystems":[],"os_default_templates":[],"locations":[{"id":2,"name":"Default
        Location","title":"Default Location","description":null},{"id":26,"name":"Test
        Location","title":"Test Location","description":null}],"organizations":[{"id":1,"name":"Default
        Organization","title":"Default Organization","description":null},{"id":25,"name":"Test
        Organization","title":"Test Organization","description":"A test organization"}]}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.5.4
      Keep-Alive:
      - timeout=15, max=97
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '1678'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/operatingsystems?search=title%3D%22RedHat+8.5%22&per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 7,\n  \"subtotal\": 1,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": \"title=\\\"RedHat 8.5\\\"\",\n  \"sort\": {\n
        \   \"by\": null,\n    \"order\": null\n  },\n  \"results\": [{\"description\":null,\"major\":\"8\",\"minor\":\"5\",\"family\":\"Redhat\",\"release_name\":null,\"password_hash\":\"SHA256\",\"created_at\":\"2021-11-22
        11:59:09 UTC\",\"updated_at\":\"2021-11-22 11:59:09 UTC\",\"id\":11,\"name\":\"RedHat\",\"title\":\"RedHat
        8.5\"}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.5.4
      Keep-Alive:
      - timeout=15, max=96
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '407'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: GET
    uri: https://foreman.example.org/api/operatingsystems/11/os_default_templates?per_page=4294967296
  response:
    body:
      string: "{\n  \"total\": 9,\n  \"subtotal\": 9,\n  \"page\": 1,\n  \"per_page\":
        4294967296,\n  \"search\": null,\n  \"sort\": {\n    \"by\": null,\n    \"order\":
        null\n  },\n  \"results\": [{\"id\":82,\"provisioning_template_id\":36,\"provisioning_template_name\":\"Linux
        host_init_config default\",\"template_kind_id\":1,\"template_kind_name\":\"host_init_config\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"},{\"id\":83,\"provisioning_template_id\":14,\"provisioning_template_name\":\"Kickstart
        default PXELinux\",\"template_kind_id\":2,\"template_kind_name\":\"PXELinux\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"},{\"id\":84,\"provisioning_template_id\":3,\"provisioning_template_name\":\"Kickstart
        default PXEGrub\",\"template_kind_id\":3,\"template_kind_name\":\"PXEGrub\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"},{\"id\":85,\"provisioning_template_id\":6,\"provisioning_template_name\":\"Kickstart
        default PXEGrub2\",\"template_kind_id\":4,\"template_kind_name\":\"PXEGrub2\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"},{\"id\":86,\"provisioning_template_id\":41,\"provisioning_template_name\":\"Kickstart
        default iPXE\",\"template_kind_id\":5,\"template_kind_name\":\"iPXE\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"},{\"id\":87,\"provisioning_template_id\":52,\"provisioning_template_name\":\"Kickstart
        default\",\"template_kind_id\":6,\"template_kind_name\":\"provision\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"},{\"id\":88,\"provisioning_template_id\":32,\"provisioning_template_name\":\"Kickstart
        default finish\",\"template_kind_id\":7,\"template_kind_name\":\"finish\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"},{\"id\":89,\"provisioning_template_id\":107,\"provisioning_template_name\":\"Kickstart
        default user data\",\"template_kind_id\":9,\"template_kind_name\":\"user_data\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"},{\"id\":90,\"provisioning_template_id\":27,\"provisioning_template_name\":\"CloudInit
        default\",\"template_kind_id\":12,\"template_kind_name\":\"cloud-init\",\"operatingsystem_id\":11,\"operatingsystem_name\":\"RedHat
        8.5\"}]\n}\n"
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.5.4
      Keep-Alive:
      - timeout=15, max=95
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '2042'
    status:
      code: 200
      message: OK
- request:
    body: '{"os_default_template": {"provisioning_template_id": 110}}'
    headers:
      Accept:
      - application/json;version=2
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '58'
      Content-Type:
      - application/json
      User-Agent:
      - apypie (https://github.com/Apipie/apypie)
    method: PUT
    uri: https://foreman.example.org/api/operatingsystems/11/os_default_templates/89
  response:
    body:
      string: '{"id":89,"provisioning_template_id":110,"provisioning_template_name":"UserData
        open-vm-tools","template_kind_id":9,"template_kind_name":"user_data","operatingsystem_id":11,"operatingsystem_name":"RedHat
        8.5"}'
    headers:
      Cache-Control:
      - max-age=0, private, must-revalidate
      Connection:
      - Keep-Alive
      Content-Security-Policy:
      - 'default-src ''self''; child-src ''self''; connect-src ''self'' ws: wss:;
        img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline'' ''self'';
        style-src ''unsafe-inline'' ''self'''
      Content-Type:
      - application/json; charset=utf-8
      Foreman_api_version:
      - '2'
      Foreman_current_location:
      - ; ANY
      Foreman_current_organization:
      - ; ANY
      Foreman_version:
      - 2.5.4
      Keep-Alive:
      - timeout=15, max=94
      Strict-Transport-Security:
      - max-age=631139040; includeSubdomains
      Vary:
      - Accept-Encoding
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - sameorigin
      X-Permitted-Cross-Domain-Policies:
      - none
      X-XSS-Protection:
      - 1; mode=block
      content-length:
      - '208'
    status:
      code: 200
      message: OK
version: 1
