interactions:
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
    method: GET
    uri: https://foreman.example.com/api/status
  response:
    body: {string: !!python/unicode '{"result":"ok","status":200,"version":"1.22.0","api_version":2}'}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      content-length: ['63']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:29:46 GMT']
      etag: [W/"674e9dbc2140c688b559566b581c5c09"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      set-cookie: [_session_id=465405500a70598b97bd5743c342b66e; path=/; secure; HttpOnly;
          SameSite=Lax]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [eec03f83-dcd6-40a2-af2c-8d90261ce0ad]
      x-runtime: ['0.068684']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=465405500a70598b97bd5743c342b66e]
    method: GET
    uri: https://foreman.example.com/katello/api/organizations?per_page=4294967296&search=name%3D%22Test+Organization%22&thin=True
  response:
    body: {string: !!python/unicode "{\n  \"total\": 3,\n  \"subtotal\": 1,\n  \"\
        page\": 1,\n  \"per_page\": 4294967296,\n  \"search\": \"name=\\\"Test Organization\\\
        \"\",\n  \"sort\": {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\"\
        : [{\"label\":\"Test_Organization\",\"created_at\":\"2019-08-16 07:28:47 UTC\"\
        ,\"updated_at\":\"2019-08-16 07:28:47 UTC\",\"id\":13,\"name\":\"Test Organization\"\
        ,\"title\":\"Test Organization\",\"description\":\"A test organization\"}]\n\
        }\n"}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:29:46 GMT']
      etag: [W/"b77d90ec5907fc86eafdf7eb5b417d41"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [a2c114e3-ce3d-4d37-9528-8f307176e9e3]
      x-runtime: ['0.038989']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=465405500a70598b97bd5743c342b66e]
    method: GET
    uri: https://foreman.example.com/katello/api/organizations/13/products?per_page=4294967296&search=name%3D%22Test+Product%22&thin=True
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Test
        Product\"","sort":{"by":"name","order":"asc"},"results":[{"id":195,"cp_id":"791602112859","name":"Test
        Product","label":"Test_Product","description":"A happy little test product","provider_id":21,"sync_plan_id":null,"sync_summary":{"success":2},"gpg_key_id":null,"ssl_ca_cert_id":null,"ssl_client_cert_id":null,"ssl_client_key_id":null,"sync_state":"Syncing
        Complete.","last_sync":"2019-08-16 07:29:33 UTC","last_sync_words":"less than
        a minute","organization_id":13,"organization":{"name":"Test Organization","label":"Test_Organization","id":13},"sync_plan":null,"repository_count":1}]}

        '}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:29:46 GMT']
      etag: [W/"3ae9aa2e719957ef30977d2b349b7735"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [2afdd2a8-6a87-487a-b2f6-6eadc918bbea]
      x-runtime: ['0.127787']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Cookie: [_session_id=465405500a70598b97bd5743c342b66e]
    method: GET
    uri: https://foreman.example.com/katello/api/products/195/repositories?per_page=4294967296&search=name%3D%22Test+Repository%22&thin=True
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Test
        Repository\"","sort":{"by":"name","order":"asc"},"results":[{"backend_identifier":"5014b308-fa62-4214-8458-b16f9017c1d2","relative_path":"Test_Organization/Library/custom/Test_Product/Test_Repository","container_repository_name":null,"full_path":"http://centos7-katello-3-12.yatsu.example.com/pulp/repos/Test_Organization/Library/custom/Test_Product/Test_Repository/","id":21,"name":"Test
        Repository","label":"Test_Repository","description":null,"last_sync":{"id":"34e73ce3-ef21-4434-acb1-faa9df45db9c","username":"admin","started_at":"2019-08-16
        07:29:33 UTC","ended_at":"2019-08-16 07:29:42 UTC","state":"stopped","result":"success","progress":1.0},"content_view":{"id":11,"name":"Default
        Organization View"},"content_type":"yum","url":"https://repos.fedorapeople.org/pulp/pulp/demo_repos/zoo/","arch":"noarch","content_id":"1565940538184","major":null,"minor":null,"product":{"id":195,"cp_id":"791602112859","name":"Test
        Product","orphaned":false,"redhat":false,"sync_plan":null},"content_label":"Test_Organization_Test_Product_Test_Repository","content_counts":{"ostree_branch":0,"docker_manifest":0,"docker_manifest_list":0,"docker_tag":0,"rpm":32,"srpm":0,"package":32,"package_group":2,"erratum":4,"puppet_module":0,"file":0,"deb":0,"module_stream":0},"last_sync_words":"less
        than a minute"}]}

        '}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: ['max-age=0, private, must-revalidate']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:29:46 GMT']
      etag: [W/"5a7386d2617cfcddb08c880ae8c77f26"]
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      status: [200 OK]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [41ae4153-07ad-4854-83ae-08859959d68c]
      x-runtime: ['0.182812']
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{}'
    headers:
      Accept: [application/json;version=2]
      Content-Length: ['2']
      Content-Type: [application/json]
      Cookie: [_session_id=465405500a70598b97bd5743c342b66e]
    method: POST
    uri: https://foreman.example.com/katello/api/repositories/21/sync
  response:
    body: {string: !!python/unicode '  {"id":"0f41423f-73dc-4d2a-9741-be79c86f125c","label":"Actions::Katello::Repository::Sync","pending":true,"action":"Synchronize
        repository ''Test Repository''; product ''Test Product''; organization ''Test
        Organization''","username":"admin","started_at":"2019-08-16 07:29:47 UTC","ended_at":null,"state":"planned","result":"pending","progress":0.0,"input":{"repository":{"id":21,"name":"Test
        Repository","label":"Test_Repository"},"product":{"id":195,"name":"Test Product","label":"Test_Product","cp_id":"791602112859"},"provider":{"id":21,"name":"Anonymous"},"organization":{"id":13,"name":"Test
        Organization","label":"Test_Organization"},"services_checked":["pulp","pulp_auth"],"id":21,"sync_result":{"class":"Dynflow::ExecutionPlan::OutputReference","execution_plan_id":"fccfa50f-d15e-49c7-a893-cb4be32899b2","step_id":3,"action_id":2,"subkeys":[]},"skip_metadata_check":false,"validate_contents":false,"contents_changed":{"class":"Dynflow::ExecutionPlan::OutputReference","execution_plan_id":"fccfa50f-d15e-49c7-a893-cb4be32899b2","step_id":3,"action_id":2,"subkeys":["contents_changed"]},"current_request_id":null,"current_timezone":"UTC","current_user_id":4,"current_organization_id":null,"current_location_id":null},"output":{},"humanized":{"action":"Synchronize","input":[["repository",{"text":"repository
        ''Test Repository''","link":null}],["product",{"text":"product ''Test Product''","link":"/products/195/"}],["organization",{"text":"organization
        ''Test Organization''","link":"/organizations/13/edit"}]],"output":"","errors":[]},"cli_example":null}

        '}
    headers:
      apipie-checksum: [f287e71ef7536ad92a99a61830ffabc07a800b26]
      cache-control: [no-cache]
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data: *.gravatar.com; script-src ''unsafe-eval''
          ''unsafe-inline'' ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 16 Aug 2019 07:29:47 GMT']
      foreman_api_version: ['2']
      foreman_version: [1.22.0]
      server: [Apache]
      set-cookie: [request_method=POST; path=/; secure; HttpOnly; SameSite=Lax]
      status: [202 Accepted]
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-powered-by: [Phusion Passenger 4.0.53]
      x-request-id: [3184071c-0d1a-47f1-ab3c-cde916c91b31]
      x-runtime: ['0.572038']
      x-xss-protection: [1; mode=block]
    status: {code: 202, message: Accepted}
version: 1
