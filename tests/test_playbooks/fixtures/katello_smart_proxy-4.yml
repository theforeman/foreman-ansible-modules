interactions:
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: GET
    uri: https://foreman.example.org/api/status
  response:
    body: {string: !!python/unicode '{"result":"ok","status":200,"version":"2.2.0-rc3","api_version":2}'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['66']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [; ANY]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=100']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: GET
    uri: https://foreman.example.org/katello/api/organizations?per_page=4294967296&search=name%3D%22Test+Organization%22
  response:
    body: {string: !!python/unicode "{\n  \"total\": 2,\n  \"subtotal\": 1,\n  \"page\":
        1,\n  \"per_page\": 4294967296,\n  \"search\": \"name=\\\"Test Organization\\\"\",\n
        \ \"sort\": {\n    \"by\": null,\n    \"order\": null\n  },\n  \"results\":
        [{\"label\":\"Test_Organization\",\"created_at\":\"2020-10-20 15:09:01 UTC\",\"updated_at\":\"2020-10-20
        15:09:01 UTC\",\"id\":4,\"name\":\"Test Organization\",\"title\":\"Test Organization\",\"description\":\"A
        test organization\"}]\n}\n"}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['388']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [; ANY]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=99']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: GET
    uri: https://foreman.example.org/katello/api/organizations/4/environments?per_page=4294967296&search=name%3D%22Dev%22
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":0,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Dev\"","sort":{"by":"name","order":"asc"},"results":[]}

'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['143']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [4; Test Organization]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=98']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: GET
    uri: https://foreman.example.org/katello/api/organizations/4/environments?per_page=4294967296&search=name%3D%22Library%22
  response:
    body: {string: !!python/unicode '{"total":1,"subtotal":1,"page":1,"per_page":"4294967296","error":null,"search":"name=\"Library\"","sort":{"by":"name","order":"asc"},"results":[{"library":true,"registry_name_pattern":null,"registry_unauthenticated_pull":false,"id":2,"name":"Library","label":"Library","description":null,"organization_id":4,"organization":{"name":"Test
        Organization","label":"Test_Organization","id":4},"created_at":"2020-10-20
        15:09:04 UTC","updated_at":"2020-10-20 15:09:04 UTC","prior":null,"successor":null,"counts":{"content_hosts":0,"content_views":0,"packages":0,"puppet_modules":0,"module_streams":0,"errata":{"security":null,"bugfix":0,"enhancement":0,"total":null},"yum_repositories":0,"docker_repositories":0,"ostree_repositories":0,"products":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":false,"promote_or_remove_content_views_to_environments":true}}]}

'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-length: ['962']
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [4; Test Organization]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=97']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 200, message: OK}
- request:
    body: !!python/unicode '{"prior_id": 2, "name": "Dev", "label": "dev"}'
    headers:
      Accept: [application/json;version=2]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['46']
      Content-Type: [application/json]
      User-Agent: ['apypie (https://github.com/Apipie/apypie)']
    method: POST
    uri: https://foreman.example.org/katello/api/organizations/4/environments
  response:
    body: {string: !!python/unicode '  {"library":false,"registry_name_pattern":null,"registry_unauthenticated_pull":false,"id":3,"name":"Dev","label":"dev","description":null,"organization_id":4,"organization":{"name":"Test
        Organization","label":"Test_Organization","id":4},"created_at":"2020-10-20
        15:09:27 UTC","updated_at":"2020-10-20 15:09:27 UTC","prior":{"name":"Library","id":2},"successor":null,"counts":{"content_hosts":0,"content_views":0},"permissions":{"create_lifecycle_environments":true,"view_lifecycle_environments":true,"edit_lifecycle_environments":true,"destroy_lifecycle_environments":true,"promote_or_remove_content_views_to_environments":true}}

'}
    headers:
      cache-control: ['max-age=0, private, must-revalidate']
      connection: [Keep-Alive]
      content-security-policy: ['default-src ''self''; child-src ''self''; connect-src
          ''self'' ws: wss:; img-src ''self'' data:; script-src ''unsafe-eval'' ''unsafe-inline''
          ''self''; style-src ''unsafe-inline'' ''self''']
      content-type: [application/json; charset=utf-8]
      foreman_api_version: ['2']
      foreman_current_location: [; ANY]
      foreman_current_organization: [4; Test Organization]
      foreman_version: [2.2.0-rc3]
      keep-alive: ['timeout=15, max=96']
      strict-transport-security: [max-age=631139040; includeSubdomains]
      transfer-encoding: [chunked]
      x-content-type-options: [nosniff]
      x-download-options: [noopen]
      x-frame-options: [sameorigin]
      x-permitted-cross-domain-policies: [none]
      x-xss-protection: [1; mode=block]
    status: {code: 201, message: Created}
version: 1
