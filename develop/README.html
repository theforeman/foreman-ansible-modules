

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Foreman Ansible Modules &mdash; Foreman Ansible Modules  documentation</title>
  

  
  <link rel="stylesheet" href="_static/ansible_rtd.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="All modules" href="modules/list_of_all_modules.html" />
    <link rel="prev" title="Welcome to Foreman Ansible Modules’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Foreman Ansible Modules
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Foreman Ansible Modules </a><ul>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#support">Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#supported-foreman-and-plugins-versions">Supported Foreman and plugins versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-ansible-versions">Supported Ansible Versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-python-versions">Supported Python Versions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation-from-ansible-galaxy">Installation from Ansible Galaxy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-via-rpm">Installation via RPM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules/list_of_all_modules.html">List of all modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developing.html">How to write modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing Foreman Ansible Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing the collection</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Foreman Ansible Modules</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Foreman Ansible Modules </li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="foreman-ansible-modules-build-status">
<h1>Foreman Ansible Modules <img alt="Build Status" src="https://github.com/theforeman/foreman-ansible-modules/workflows/CI/badge.svg" /><a class="headerlink" href="#foreman-ansible-modules-build-status" title="Permalink to this headline">¶</a></h1>
<p>Ansible modules for interacting with the Foreman API and various plugin APIs such as Katello.</p>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>A list of all modules and their documentation can be found at <a class="reference external" href="https://theforeman.org/plugins/foreman-ansible-modules/">theforeman.org/plugins/foreman-ansible-modules</a>.</p>
</div>
<div class="section" id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<div class="section" id="supported-foreman-and-plugins-versions">
<h3>Supported Foreman and plugins versions<a class="headerlink" href="#supported-foreman-and-plugins-versions" title="Permalink to this headline">¶</a></h3>
<p>Modules should support any currently stable Foreman release and the matching set of plugins.
Some modules have additional features/arguments that are only applied when the corresponding plugin is installed.</p>
<p>We actively test the modules against the latest stable Foreman release and the matching set of plugins.</p>
</div>
<div class="section" id="supported-ansible-versions">
<h3>Supported Ansible Versions<a class="headerlink" href="#supported-ansible-versions" title="Permalink to this headline">¶</a></h3>
<p>The supported Ansible versions are aligned with currently maintained Ansible versions that support Collections (2.8+).
You can find the list of maintained Ansible versions <a class="reference external" href="https://docs.ansible.com/ansible/latest/reference_appendices/release_and_maintenance.html#release-status">here</a>.</p>
</div>
<div class="section" id="supported-python-versions">
<h3>Supported Python Versions<a class="headerlink" href="#supported-python-versions" title="Permalink to this headline">¶</a></h3>
<p>Starting with Ansible 2.7, Ansible only supports Python 2.7 and 3.5 (and higher). These are also the only Python versions we develop and test the modules against.</p>
</div>
<div class="section" id="known-issues">
<h3>Known issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Some modules, e.g. <code class="docutils literal notranslate"><span class="pre">repository_sync</span></code> and <code class="docutils literal notranslate"><span class="pre">content_view_version</span></code>, trigger long running tasks on the server side. It might be beneficial to your playbook to wait for their completion in an asynchronous manner.
As Ansible has facilities to do so, the modules will wait unconditionally. See the <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html">Ansible documentation</a> for putting tasks in the background.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compute_resource</span></code> can leak sensitive data if used within a loop. According to <a class="reference external" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_loops.html">Ansible documentation</a>, using loop over Ansible resources can leak sensitive data. You can prevent this by using <code class="docutils literal notranslate"><span class="pre">no_log:</span> <span class="pre">yes</span></code> on the task.</p>
<p>eg:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create compute resources</span>
  <span class="nt">compute_resource</span><span class="p">:</span>
    <span class="nt">server_url</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">https://foreman.example.com</span>
    <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">admin</span>
    <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">changeme</span>
    <span class="nt">validate_certs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item.name</span><span class="nv"> </span><span class="s">}}&quot;</span>
    <span class="nt">organizations</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item.organizations</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">default(omit)</span><span class="nv"> </span><span class="s">}}&quot;</span>
    <span class="nt">locations</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item.locations</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">default(omit)</span><span class="nv"> </span><span class="s">}}&quot;</span>
    <span class="nt">description</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item.description</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">default(omit)</span><span class="nv"> </span><span class="s">}}&quot;</span>
    <span class="nt">provider</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item.provider</span><span class="nv"> </span><span class="s">}}&quot;</span>
    <span class="nt">provider_params</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item.provider_params</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">default(omit)</span><span class="nv"> </span><span class="s">}}&quot;</span>
    <span class="nt">state</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">item.state</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">default(&#39;present&#39;)</span><span class="nv"> </span><span class="s">}}&quot;</span>
  <span class="nt">loop</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">compute_resources</span><span class="nv"> </span><span class="s">}}&quot;</span>
  <span class="nt">no_log</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">yes</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>There are currently two ways to use the modules in your setup: install from Ansible Galaxy or via RPM.</p>
<div class="section" id="installation-from-ansible-galaxy">
<h3>Installation from Ansible Galaxy<a class="headerlink" href="#installation-from-ansible-galaxy" title="Permalink to this headline">¶</a></h3>
<p>You can install the collection from <a class="reference external" href="https://galaxy.ansible.com/theforeman/foreman">Ansible Galaxy</a> by running <code class="docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span> <span class="pre">theforeman.foreman</span></code> (Ansible 2.9 and later) or <code class="docutils literal notranslate"><span class="pre">mazer</span> <span class="pre">install</span> <span class="pre">theforeman.foreman</span></code> (Ansible 2.8).</p>
<p>After the installation, the modules are available as <code class="docutils literal notranslate"><span class="pre">theforeman.foreman.&lt;module_name&gt;</span></code>. Please see the <a class="reference external" href="https://docs.ansible.com/ansible/devel/user_guide/collections_using.html">Using Ansible collections documentation</a> for further details.</p>
</div>
<div class="section" id="installation-via-rpm">
<h3>Installation via RPM<a class="headerlink" href="#installation-via-rpm" title="Permalink to this headline">¶</a></h3>
<p>The collection is also available as <code class="docutils literal notranslate"><span class="pre">ansible-collection-theforeman-foreman</span></code> from the <code class="docutils literal notranslate"><span class="pre">client</span></code> repository on <code class="docutils literal notranslate"><span class="pre">yum.theforeman.org</span></code>.</p>
<p>After installing the RPM, you can use the modules in the same way as when they are installed directly from Ansible Galaxy.</p>
</div>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>These dependencies are required for the Ansible controller, not the Foreman server.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PyYAML</span></code></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/apypie/"><code class="docutils literal notranslate"><span class="pre">apypie</span></code></a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/ipaddress/"><code class="docutils literal notranslate"><span class="pre">ipaddress</span></code></a> for the <code class="docutils literal notranslate"><span class="pre">subnet</span></code> module on Python 2.7</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rpm</span></code> for the RPM support in the <code class="docutils literal notranslate"><span class="pre">content_upload</span></code> module</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debian</span></code> for the DEB support in the <code class="docutils literal notranslate"><span class="pre">content_upload</span></code> module</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules/list_of_all_modules.html" class="btn btn-neutral float-right" title="All modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to Foreman Ansible Modules’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, The Foreman Project

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>